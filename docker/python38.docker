FROM kernsuite/base:7

# Install base requirements
RUN DEBIAN_FRONTEND=noninteractive add-apt-repository ppa:deadsnakes/ppa -y
RUN DEBIAN_FRONTEND=noninteractive apt update -y
RUN DEBIAN_FRONTEND=noninteractive apt install -y curl git python3-distutils python3.8 python3.8-dev
ADD . /code
WORKDIR /code

RUN python3.8 -m pip install .[testing]
RUN python3.8 -m pip freeze
RUN python3.8 -m pytest --flake8 -s -vvv /code/xova
